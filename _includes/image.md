{% if include.framed and include.framed == "yes" %}{%
  assign class = "border" %}{%
else %}{%
  assign class = "" %}{%
endif %}
{% if include.wrap and include.wrap == "right" %}{%
  assign pos = "pull-right gap-left" %}{%
elsif include.wrap and include.wrap == "left" %}{%
  assign pos = "pull-left gap-right" %}{%
else %}{%
  assign pos = "figure-block" %}{%
endif %}
{% if include.width %} {%
  assign width = include.width | plus: 20 | append: "px" %}{%
else %}{%
  assign width = "100%" %}{%
endif %}
<div class="{{ pos }}">
  <div class = "figure-container {{ class }}" style="width: {{ width }}">
    <a href="{{ site.baseurl }}{{ site.imageurl }}/{{ include.file }}"
      data-lightbox="blog" data-title="{{ include.caption }}">
      <figure>
      <img src="{{ site.baseurl }}{{ site.imageurl }}/{{ include.file }}"
        title="{{ include.caption }}" {%
          if include.width %} width="{{ include.width }}px" {% endif %}{%
          if include.height %} height="{{ include.height }}px" {% endif %}>
          <figcaption>{{ include.caption }}</figcaption>
      </figure>
    </a>
  </div>
</div>
